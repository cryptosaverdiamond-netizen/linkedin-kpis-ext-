{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "enum": ["daily"],
      "description": "Type de données - doit être 'daily'"
    },
    "company_id": {
      "type": "string",
      "minLength": 1,
      "description": "ID de l'entreprise"
    },
    "team_id": {
      "type": "string",
      "minLength": 1,
      "description": "ID de l'équipe"
    },
    "user_id": {
      "type": "string",
      "minLength": 1,
      "description": "Slug LinkedIn de l'utilisateur"
    },
    "date_yyyy_mm_dd": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date au format YYYY-MM-DD (Europe/Paris)"
    },
    "global_posts_impressions_last_7d": {
      "type": "number",
      "minimum": 0,
      "description": "Impressions globales des posts sur 7 jours"
    },
    "followers": {
      "type": "number",
      "minimum": 0,
      "description": "Nombre de followers"
    },
    "profile_views_90d": {
      "type": "number",
      "minimum": 0,
      "description": "Vues de profil sur 90 jours"
    },
    "search_appearances_last_week": {
      "type": "number",
      "minimum": 0,
      "description": "Apparitions dans les recherches la semaine dernière"
    },
    "source_file": {
      "type": "string",
      "description": "Fichier source du scraping"
    },
    "captured_at_iso": {
      "type": "string",
      "format": "date-time",
      "description": "Horodatage ISO 8601 de capture"
    },
    "trace_id": {
      "type": "string",
      "format": "uuid",
      "description": "UUID v4 pour traçage"
    }
  },
  "required": [
    "type",
    "company_id", 
    "team_id",
    "user_id"
  ],
  "additionalProperties": false
}